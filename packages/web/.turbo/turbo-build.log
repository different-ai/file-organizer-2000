

> @file-organizer/web@0.1.0 build /home/ubuntu/repos/file-organizer-2000/packages/web
> pnpm run db:migrate  && pnpm next build


> @file-organizer/web@0.1.0 db:migrate /home/ubuntu/repos/file-organizer-2000/packages/web
> pnpm dotenv -c -- drizzle-kit migrate

[90mdrizzle-kit: v0.22.8[39m
[90mdrizzle-orm: v0.31.4[39m

[90mNo config path provided, using default path[39m
[90mReading config file '/home/ubuntu/repos/file-organizer-2000/packages/web/drizzle.config.ts'[39m
[90mUsing 'pg' driver for database querying[39m
[â£·] applying migrations...[2K[G[â£¯] applying migrations...[2K[G[â£Ÿ] applying migrations...[2K[G[â¡¿] applying migrations...[2K[G[â¢¿] applying migrations...[2K[G[â£»] applying migrations...[2K[G[â£½] applying migrations...[2K[G[[32mâœ“[39m] migrations applied successfully!  [1m[38;2;173;127;168mâ–² Next.js 14.2.21[39m[22m

 [37m[1m [22m[39m Creating an optimized production build ...
 [32m[1mâœ“[22m[39m Compiled successfully
 [37m[1m [22m[39m Skipping linting
[?25l [37m[1m [22m[39m Checking validity of types  [36m.[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m..[39m [33m[1mâš [22m[39m TypeScript project references are not fully supported. Attempting to build in incremental mode.
[2K[1G [37m[1m [22m[39m Checking validity of types  [36m...[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m.[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m..[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m...[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m.[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m..[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m...[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m.[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m..[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m...[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m.[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m..[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m...[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m.[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m..[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m...[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m.[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m..[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m...[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m.[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m..[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m...[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m.[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m..[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m...[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m.[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m..[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m...[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m.[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m..[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m...[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m.[39m[2K[1G [37m[1m [22m[39m Checking validity of types  [36m..[39m[2K[1G[?25h [37m[1m [22m[39m Checking validity of types     [32m[1mâœ“[22m[39m Checking validity of types 
[?25l [37m[1m [22m[39m Collecting page data  [36m.[39m[2K[1G [37m[1m [22m[39m Collecting page data  [36m..[39m[2K[1G [37m[1m [22m[39m Collecting page data  [36m...[39m[2K[1G [37m[1m [22m[39m Collecting page data  [36m.[39m(node:32305) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
[2K[1G[?25h [33m[1mâš [22m[39m Using edge runtime on a page currently disables static generation for that page
[?25l [37m[1m [22m[39m Collecting page data  [36m.[39m[2K[1G[?25h [37m[1m [22m[39m Collecting page data     [32m[1mâœ“[22m[39m Collecting page data 
[?25l [37m[1m [22m[39m Generating static pages (0/52)  [36m[    ][39m[2K[1G [37m[1m [22m[39m Generating static pages (0/52)  [36m[=   ][39m[2K[1G [37m[1m [22m[39m Generating static pages (9/52)  [36m[==  ][39m[2K[1G [37m[1m [22m[39m Generating static pages (28/52)  [36m[=== ][39m[2K[1G [37m[1m [22m[39m Generating static pages (41/52)  [36m[ ===][39m(node:32302) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
Redeploy cron job started
[2K[1G [37m[1m [22m[39m Generating static pages (51/52)  [36m[  ==][39mError fetching deployment status: n [Error]: Dynamic server usage: Route /api/deployment/status couldn't be rendered statically because it used `headers`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error
    at l (/home/ubuntu/repos/file-organizer-2000/packages/web/.next/server/chunks/4385.js:1:57698)
    at u (/home/ubuntu/repos/file-organizer-2000/packages/web/.next/server/chunks/7481.js:9:21260)
    at s (/home/ubuntu/repos/file-organizer-2000/packages/web/.next/server/chunks/7481.js:1:524)
    at P (/home/ubuntu/repos/file-organizer-2000/packages/web/.next/server/chunks/3609.js:1:4668)
    at c (/home/ubuntu/repos/file-organizer-2000/packages/web/.next/server/app/api/deployment/status/route.js:1:1396)
    at /home/ubuntu/repos/file-organizer-2000/node_modules/.pnpm/next@14.2.21_@babel+core@7.26.0_@opentelemetry+api@1.9.0_@playwright+test@1.49.1_babel-plugin_eijz2nmsxu5mtrciidzudqwz2y/node_modules/next/dist/compiled/next-server/app-route.runtime.prod.js:6:38417
    at /home/ubuntu/repos/file-organizer-2000/node_modules/.pnpm/next@14.2.21_@babel+core@7.26.0_@opentelemetry+api@1.9.0_@playwright+test@1.49.1_babel-plugin_eijz2nmsxu5mtrciidzudqwz2y/node_modules/next/dist/server/lib/trace/tracer.js:140:36
    at NoopContextManager.with (/home/ubuntu/repos/file-organizer-2000/node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/context/NoopContextManager.js:25:19)
    at ContextAPI.with (/home/ubuntu/repos/file-organizer-2000/node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)
    at NoopTracer.startActiveSpan (/home/ubuntu/repos/file-organizer-2000/node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/trace/NoopTracer.js:65:31) {
  description: "Route /api/deployment/status couldn't be rendered statically because it used `headers`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error",
  digest: 'DYNAMIC_SERVER_USAGE'
}
[2K[1G[?25h [32m[1mâœ“[22m[39m Generating static pages (52/52)
[?25l [37m[1m [22m[39m Finalizing page optimization  [36m.[39m[?25l [37m[1m [22m[39m Collecting build traces  [36m.[39m[2K[1G[?25h [37m[1m [22m[39m Collecting build traces     [32m[1mâœ“[22m[39m Collecting build traces 
[2K[1G[?25h [37m[1m [22m[39m Finalizing page optimization     [32m[1mâœ“[22m[39m Finalizing page optimization 

[4mRoute (app)[24m                              [4mSize[24m     [4mFirst Load JS[24m
â”Œ â—‹ /                                    142 B          [37m[1m87.2 kB[22m[39m
â”œ â—‹ /_not-found                          872 B            [37m[1m88 kB[22m[39m
â”œ Æ’ /api/aliases                         0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/chat                            0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/check-key                       0 B                [37m[1m0 B[22m[39m
â”œ â—‹ /api/check-premium                   0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/chunks                          0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/classify-v2                     0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/classify1                       0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/concepts                        0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/concepts-and-chunks             0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/create-folder                   0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/cron/redeploy                   0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/cron/reset-tokens               0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/deployment/status               0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/deployment/update-key           0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/fabric-classify                 0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/folders                         0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/folders/embeddings              0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/folders/existing                0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/folders/new                     0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/folders/v2                      0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/format                          0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/format-stream                   0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/format/v2                       0 B                [37m[1m0 B[22m[39m
â”œ â—‹ /api/health                          0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/organize-all                    0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/redeploy                        0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/relationships                   0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/tags                            0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/tags/existing                   0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/tags/new                        0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/tags/v2                         0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/title                           0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/title/multiple                  0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/title/multiple-stream           0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/title/v2                        0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/top-up                          0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/transcribe                      0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/usage                           0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/vision                          0 B                [37m[1m0 B[22m[39m
â”œ Æ’ /api/webhook                         0 B                [37m[1m0 B[22m[39m
â”œ â—‹ /dashboard/deployment                97 kB           [37m[1m223 kB[22m[39m
â”œ â—‹ /dashboard/lifetime                  10.7 kB         [37m[1m157 kB[22m[39m
â”œ â—‹ /dashboard/onboarding                1.5 kB          [37m[1m102 kB[22m[39m
â”œ â—‹ /dashboard/pricing                   397 B           [37m[1m101 kB[22m[39m
â”œ â—‹ /dashboard/self-hosted               142 B          [37m[1m87.2 kB[22m[39m
â”œ â—‹ /dashboard/subscribers               2.13 kB         [37m[1m118 kB[22m[39m
â”œ â—‹ /top-up-cancelled                    178 B          [37m[1m94.1 kB[22m[39m
â”” â—‹ /top-up-success                      178 B          [37m[1m94.1 kB[22m[39m
+ First Load JS shared by all            [37m[1m87.1 kB[22m[39m
  â”œ chunks/559-8081ffbc384b587b.js       31.6 kB
  â”œ chunks/8eb2234e-bf095b28ff238582.js  53.6 kB
  â”” other shared chunks (total)          1.9 kB


Æ’ Middleware                             [37m[1m60.4 kB[22m[39m

â—‹  (Static)   prerendered as static content
Æ’  (Dynamic)  server-rendered on demand

[?25h
